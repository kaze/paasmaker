manifest:
  format: 1

application:
  name: doc.paasmaker.com
  prepare:
    runtime:
      plugin: paasmaker.runtime.shell
      version: 1
    commands:
      - plugin: paasmaker.prepare.shell
        parameters:
          # To build this, we need to download all the pip
          # packages so sphinx can see them. TODO:
          # make this faster.
          commands:
            - mkdir thirdparty
            - virtualenv thirdparty/python
            - . thirdparty/python/bin/activate
            - pip install -r requirements.txt
            - ./build-documentation.sh

instances:
  - name: web
    quantity: 1
    runtime:
      plugin: paasmaker.runtime.static
      parameters:
        document_root: documentation/build/html/
      version: 1
    placement:
      plugin: paasmaker.placement.default
    hostnames:
      - docs.paasmaker.org