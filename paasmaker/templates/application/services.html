{% extends "../layout/main.html" %}

{% block pagetitle %}
	<h1>Services List: {{ application.name }}</h1>
{% end %}

{% block body %}
	<div class="btn-toolbar">
		<div class="btn-group btn-group-header">
			<a class="btn" href="/application/{{ application.id }}"><i class="icon-backward"></i> Back to {{ application.name }}</a>
		</div>
	</div>

	<table class="table table-striped table-bordered">
		<tr>
			<th>Name</th>
			<th>Provider</th>
			<th>Credentials</th>
			<th>Versions</th>
			<th>State</th>
		</tr>
		{% for service in services %}
			<tr>
				<td>
					{{ service.name }}
				</td>
				<td>
					{{ service.provider }}
				</td>
				<td>
					<pre>{{ json.dumps(service.credentials, indent=2, sort_keys=True) }}</pre>
				</td>
				<td>
					{% for version in service.application_versions %}
						v{{ version.version }}<br />
					{% end %}
				</td>
				<td>
					<span class="service-{{ service.state }}">{{ nice_state(service.state) }}</span>
				</td>
			</tr>
		{% end %}
	</table>

	{% module Template("include/pagination.html", page_data=services_pagination) %}
{% end %}
